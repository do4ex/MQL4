


## 简介

> 海龟交易法曾经风光一时，随着时间的转移它是否失效了呢。它还适合市场吗？对此很多人都有疑问。 本人不能肯定的告诉你，海龟交易法则有没有失效，但它有它适合的战场。我在多个外汇市场进行了历史回测，在货币对的交易中表现一般。
> 但是在大宗商品和贵金属它的表现值得信赖（年复利可达到15%-30%）。当然历史只是历史，但是历史会重演。 这是我们使用一些交易系统的依据。


## 交易理念

+ 绝大多数时候赌场的的胜率要远远大于赌徒的，在长时间的潜伏之下，在胜率的天平已经倾斜的情况下，赌徒可以加大赌注。
+ 绝大多数的市场突破无效的，真正的趋势隐藏在这些无效的突破之中。我们用一些条件过滤掉大多数的假突破，在为数不多的交易次数中，找到真正的交易机会。
+ 让盈利奔跑起来。
+ 未来是不能预测的，坚持自己的交易理念。


## 市场选择

+ 交易量
+ 流动性
+ 选择多个市场

**选择交易量大，流动性高的市场的优势大家都知道。市场都是由交易者组成的，你的每一笔交易都会
对市场造成影响。如果市场无法吃掉的的订单，你会很尴尬的。
至于选择多个市场这其中有优势也有劣势，优势在于不会造成巨大的亏损，劣势在于盈利也不会放大。**


## 仓位规模

**仓位的大小，仓位大小决定着你胜负的关键。如果你仓位过大，你往往等不到盈利的时刻就已经出局了。如果过小，你的盈利又非常少。我个人认为仓位规模可小不可大，留着自己的本金至关重要。**

+ 头寸规模单位 = （账户总额* 1%）/(atr * 一份合约价格)


### 波动性（atr）

```bash
波动性是指市场的波动性。海龟交易法则一般取用20日的波动值。然后根据市场的波动性来计算仓位的大小。

真实波动幅度 TR =  max(H-L,H-PDC,PDC-L);
其中： H= 当日最高价 L=当日最低价 PDC = 前一日收盘价 

i = 1
TR
atr(i) = （19*PDN+ TR）/20
```

### 仓位计算

```bash
头寸规模单位 = （账户总额* 1%）/(atr * 一份合约价格)

假设账户总额为 10000美元
atr（20） = 0.009
一份合约为 100000欧元 * 1.066 = 106600美元

头寸规模单位= （10000 * 0.01）/(0.009 * 106600)
 = 100/960  约等于 0.09份合约 
 
总规模 = 0.09 * 4 = 0.36 

```
### 下单规模

总规模：12个单位
单个市场：每个市场的头寸规模单位不超过4个
高度关联的多个市场：某一个方向的头寸单位不能超过6个
松散关联的多个市场：头寸规模单位不能超过10个


## 入市

### 20日突破


```
以20日突破为基础的短期系统，当价格突破20日最高的时候，立即买入做多。当价格突破20日最低的时候，
立即卖出做空。
上一次如果盈利性突破，那么忽略这一次的突破。
如果上一次的突破被忽略，那么交易者将在55日突破点入市，这个被视为一个保障性突破
```

### 55日突破

```
以 55日突破为基础的长期系统，当价格突破55日最高，立即买入做多。当价格突破55日最低，立即卖出做空。
所有的突破信号均视为有效信号
```

## 逐步建仓

按照0.5* （atr）的值进行逐步加仓，直到满仓，为4个单位。

例如： EURUSD

#### 向上突破

第一次向上突破买入的价格为: 1.05 ,atr值为0.02

那么他们的交易价格为: 

第一次：1.050
第二次：1.060
第三次：1.070
第四次：1.080

#### 向下突破

第一次向下突破做空的价格为: 1.05 ,atr值为0.02

那么他们的交易价格为: 

第一次：1.05
第二次：1.04
第三次：1.03
第四次：1.02


## 止损

买单 
 
 方式一： 当前价格 <= (最新的一个单位的价格 - 2 * atr)
 
 方式二：当前价格《= （第一个单位的价格-2 * atr）

 方式三：账户总资金的2%，每一笔交易的亏损不能超过2%


例如：

第一次向上突破买入的价格为: 1.05 ,atr值为0.02

交易价格为: 

第一次：1.050
第二次：1.060
第三次：1.070
第四次：1.080

方式一止损价格为：1.08 -（2*atr） = 1.08-(2*0.02) = 1.04
方式二止损价格为：1.05-（2*atr）=1.05-(2*0.02)=1.01

## 退出

#### 系统一

+ 做多

价格跌破过去10日最低点时退出

+ 做空

价格突破过去10日最高点时退出


#### 系统二 

+ 做多

价格跌破过去20日最低点时退出

+ 做空

价格突破过去20日最高点时退出


+ 定时退出

```
从最后一笔交易开始后60个交易日自动退出交易。定时退出在测试中让我大吃已经，这么简单的退出系统，没有任何复杂的多余操作。
确达到了34%的年复利。
```



## 战术

### 参数的调优

```
很多参数都是可以调整的，在我的代码中，我经常去调整海龟交易法则的参数。但是，请注意：调试参数很多
时候是你去迎合历史，而不是去迎合未来。注意自己的核心交易理念，如果你是个短线交易者，你可以去调整
自己的参数去适合短线。而不是为了历史而调参。
```

### 市价与限价

```
我编写了两个版本，市价在更多的时候让我们多出了一笔费用（点差和滑点）。在测试中，随着时间的累积，这笔费用
也一直在叠加。而这有可能造成你无法翻盘的致命金额。
```